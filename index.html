<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¿°æ—8å¹´ç´šä¸‹è‹±æ–‡å–®å­—</title>
    
    <!-- å¼•å…¥ React å’Œ ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- å¼•å…¥ Babel ç”¨ä¾†è§£æ JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- å¼•å…¥ Tailwind CSS ç”¨æ–¼æ¨£å¼ -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        .perspective-1000 {
            perspective: 1000px;
        }
        .preserve-3d {
            transform-style: preserve-3d;
        }
        .backface-hidden {
            backface-visibility: hidden;
        }
        .rotate-y-180 {
            transform: rotateY(180deg);
        }
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.5s ease-out forwards;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        // --- æ ¸å¿ƒåŠŸèƒ½å‡½æ•¸ (ç§»è‡³æœ€ä¸Šæ–¹ç¢ºä¿å„ªå…ˆè¼‰å…¥) ---
        
        // æ–‡å­—è½‰èªéŸ³åŠŸèƒ½
        const speak = (text) => {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                window.speechSynthesis.speak(utterance);
            } else {
                console.warn("Speech synthesis not supported in this browser.");
            }
        };
        // ç¶å®šåˆ° window ä»¥é˜²è¬ä¸€
        window.speak = speak;

        // è¼”åŠ©å‡½å¼ï¼šç”¢ç”Ÿé¸é …
        const generateOptionsForWord = (targetWord, fullList) => {
            if (!targetWord || !fullList) return [];
            const wrongOptions = fullList
                .filter(item => item.word !== targetWord.word)
                .sort(() => 0.5 - Math.random())
                .slice(0, 3)
                .map(item => item.def);
            
            return [...wrongOptions, targetWord.def].sort(() => 0.5 - Math.random());
        };

        // --- å…§å»ºåœ–ç¤ºçµ„ä»¶ ---
        const IconBase = ({ size = 24, className = "", children, ...props }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
                {...props}
            >
                {children}
            </svg>
        );

        const Volume2 = (props) => (
            <IconBase {...props}>
                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
                <path d="M15.54 8.46a5 5 0 0 1 0 7.07" />
                <path d="M19.07 4.93a10 10 0 0 1 0 14.14" />
            </IconBase>
        );

        const BookOpen = (props) => (
            <IconBase {...props}>
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
            </IconBase>
        );

        const Brain = (props) => (
            <IconBase {...props}>
                <path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z" />
                <path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z" />
            </IconBase>
        );

        const RotateCw = (props) => (
            <IconBase {...props}>
                <path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8" />
                <path d="M21 3v5h-5" />
            </IconBase>
        );

        const CheckCircle = (props) => (
            <IconBase {...props}>
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
                <polyline points="22 4 12 14.01 9 11.01" />
            </IconBase>
        );

        const XCircle = (props) => (
            <IconBase {...props}>
                <circle cx="12" cy="12" r="10" />
                <path d="m15 9-6 6" />
                <path d="m9 9 6 6" />
            </IconBase>
        );

        const Trophy = (props) => (
            <IconBase {...props}>
                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6" />
                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18" />
                <path d="M4 22h16" />
                <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22" />
                <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22" />
                <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z" />
            </IconBase>
        );

        const ArrowRight = (props) => (
            <IconBase {...props}>
                <path d="M5 12h14" />
                <path d="m12 5 7 7-7 7" />
            </IconBase>
        );

        const LayoutGrid = (props) => (
            <IconBase {...props}>
                <rect width="7" height="7" x="3" y="3" rx="1" />
                <rect width="7" height="7" x="14" y="3" rx="1" />
                <rect width="7" height="7" x="14" y="14" rx="1" />
                <rect width="7" height="7" x="3" y="14" rx="1" />
            </IconBase>
        );
        // --- åœ–ç¤ºçµ„ä»¶çµæŸ ---

        // å–®å…ƒè³‡æ–™åº«
        const textbookData = {
            3: {
                title: "Unit 3: The Animals Work Hard",
                words: [
                    { word: "hard", kk: "[hÉ‘rd]", pos: "adv.; adj.", def: "åŠªåŠ›åœ°ï¼›å›°é›£çš„", sentence: "He works hard to provide for his family.", trans: "ä»–åŠªåŠ›å·¥ä½œä»¥ä¾›é¤Šå®¶åº­ã€‚", emoji: "ğŸ’ª" },
                    { word: "well", kk: "[wÉ›l]", pos: "adv.", def: "å¥½åœ°", sentence: "She plays the piano very well.", trans: "å¥¹é‹¼ç´å½ˆå¾—éå¸¸å¥½ã€‚", emoji: "ğŸ‘" },
                    { word: "share", kk: "[ÊƒÉ›r]", pos: "v.", def: "åˆ†äº«", sentence: "It's important to share your toys with others.", trans: "èˆ‡ä»–äººåˆ†äº«ä½ çš„ç©å…·æ˜¯å¾ˆé‡è¦çš„ã€‚", emoji: "ğŸ¤" },
                    { word: "weak", kk: "[wik]", pos: "adj.", def: "è™›å¼±çš„", sentence: "He felt weak after having the flu.", trans: "æ„Ÿå†’å¾Œä»–è¦ºå¾—èº«é«”å¾ˆè™›å¼±ã€‚", emoji: "ğŸ¤’" },
                    { word: "hen", kk: "[hÉ›n]", pos: "n.", def: "æ¯é›", sentence: "The hen is laying an egg in the nest.", trans: "æ¯é›æ­£åœ¨çª©è£¡ä¸‹è›‹ã€‚", emoji: "ğŸ”" },
                    { word: "dirty", kk: "[Ë‹dÉtÉª]", pos: "adj.", def: "é«’çš„", sentence: "Don't sit on the dirty floor.", trans: "åˆ¥ååœ¨é«’åœ°æ¿ä¸Šã€‚", emoji: "ğŸ¤¢" },
                    { word: "without", kk: "[wÉªË‹Ã°aut]", pos: "prep.", def: "æ²’æœ‰ï¼›ç„¡", sentence: "You shouldn't leave without saying goodbye.", trans: "ä½ ä¸è©²ä¸å‘Šè€Œåˆ¥ã€‚", emoji: "ğŸš«" },
                    { word: "quickly", kk: "[Ë‹kwÉªklÉª]", pos: "adv.", def: "å¿«åœ°", sentence: "Please finish your dinner quickly.", trans: "è«‹è¶•å¿«åƒå®Œä½ çš„æ™šé¤ã€‚", emoji: "ğŸƒ" },
                    { word: "web page", kk: "[Ë‹wÉ›b ËŒpedÊ’]", pos: "n.", def: "ç¶²é ", sentence: "I am looking at a web page about travel.", trans: "æˆ‘æ­£åœ¨çœ‹ä¸€å€‹é—œæ–¼æ—…éŠçš„ç¶²é ã€‚", emoji: "ğŸŒ" },
                    { word: "service", kk: "[Ë‹sÉvÉªs]", pos: "n.", def: "æœå‹™", sentence: "The service in this restaurant is excellent.", trans: "é€™å®¶é¤å»³çš„æœå‹™éå¸¸å¥½ã€‚", emoji: "ğŸ’" },
                    { word: "clearly", kk: "[Ë‹klÉªrlÉª]", pos: "adv.", def: "æ¸…æ¥šåœ°", sentence: "Can you hear me clearly?", trans: "ä½ èƒ½è½æ¸…æ¥šæˆ‘çš„è²éŸ³å—ï¼Ÿ", emoji: "ğŸ”Š" },
                    { word: "No problem", kk: "[no Ë‹prÉ‘blÉ™m]", pos: "phr.", def: "æ²’å•é¡Œ", sentence: "\"Thanks for the help.\" \" No problem! \"", trans: "ã€Œè¬è¬ä½ çš„å¹«å¿™ã€‚ã€ã€Œæ²’å•é¡Œï¼ã€", emoji: "ğŸ‘Œ" },
                    { word: "wise", kk: "[waÉªz]", pos: "adj.", def: "æ˜æ™ºçš„", sentence: "It was a wise decision to save money.", trans: "å­˜éŒ¢æ˜¯ä¸€å€‹æ˜æ™ºçš„æ±ºå®šã€‚", emoji: "ğŸ¦‰" },
                    { word: "goose", kk: "[É¡us]", pos: "n.", def: "éµ (è¤‡æ•¸ geese)", sentence: "A goose is swimming in the pond.", trans: "ä¸€éš»éµæ­£åœ¨æ± å¡˜è£¡æ¸¸æ³³ã€‚", emoji: "ğŸª¿" },
                    { word: "duck", kk: "[dÊŒk]", pos: "n.", def: "é´¨", sentence: "The little duck followed its mother.", trans: "å°é´¨è·Ÿè‘—ç‰ çš„åª½åª½ã€‚", emoji: "ğŸ¦†" },
                    { word: "loudly", kk: "[Ë‹laÊŠdlÉª]", pos: "adv.", def: "å¤§è²åœ°", sentence: "Don't talk so loudly in the library.", trans: "åœ¨åœ–æ›¸é¤¨è£¡ä¸è¦é€™éº¼å¤§è²èªªè©±ã€‚", emoji: "ğŸ“¢" },
                    { word: "goat", kk: "[É¡ot]", pos: "n.", def: "å±±ç¾Š", sentence: "The goat is eating grass on the hill.", trans: "å±±ç¾Šæ­£åœ¨å±±ä¸Šåƒè‰ã€‚", emoji: "ğŸ" },
                    { word: "papaya", kk: "[pÉ™Ë‹paÉªÉ™]", pos: "n.", def: "æœ¨ç“œ", sentence: "Papaya is a very healthy fruit.", trans: "æœ¨ç“œæ˜¯ç¨®éå¸¸å¥åº·çš„æ°´æœã€‚", emoji: "ğŸˆ" },
                    { word: "watermelon", kk: "[Ë‹wÉ”tÉšËŒmÉ›lÉ™n]", pos: "n.", def: "è¥¿ç“œ", sentence: "Eating watermelon is great in summer.", trans: "å¤å¤©åƒè¥¿ç“œå¾ˆæ£’ã€‚", emoji: "ğŸ‰" },
                    { word: "guava", kk: "[Ë‹É¡wÉ‘vÉ™]", pos: "n.", def: "èŠ­æ¨‚", sentence: "Taiwan is famous for its sweet guava.", trans: "å°ç£ä»¥ç”œç¾çš„èŠ­æ¨‚èåã€‚", emoji: "ğŸ" },
                    { word: "pear", kk: "[pÉ›r]", pos: "n.", def: "æ¢¨å­", sentence: "This pear is very juicy and sweet.", trans: "é€™é¡†æ¢¨å­å¤šæ±åˆç”œã€‚", emoji: "ğŸ" },
                    { word: "tomato", kk: "[tÉ™Ë‹meto]", pos: "n.", def: "ç•ªèŒ„", sentence: "Do you like tomato sauce on your pasta?", trans: "ä½ å–œæ­¡åœ¨ç¾©å¤§åˆ©éºµä¸ŠåŠ ç•ªèŒ„é†¬å—ï¼Ÿ", emoji: "ğŸ…" },
                    { word: "peach", kk: "[pitÊƒ]", pos: "n.", def: "æ¡ƒå­", sentence: "She bought a basket of fresh peaches.", trans: "å¥¹è²·äº†ä¸€ç±ƒæ–°é®®çš„æ¡ƒå­ã€‚", emoji: "ğŸ‘" },
                    { word: "grape", kk: "[É¡rep]", pos: "n.", def: "è‘¡è„", sentence: "He popped a grape into his mouth.", trans: "ä»–æŠŠä¸€é¡†è‘¡è„ä¸Ÿé€²å˜´è£¡ã€‚", emoji: "ğŸ‡" },
                    { word: "turtle", kk: "[Ë‹tÉt!]", pos: "n.", def: "çƒé¾œ", sentence: "The turtle moves very slowly.", trans: "çƒé¾œç§»å‹•å¾—å¾ˆæ…¢ã€‚", emoji: "ğŸ¢" },
                    { word: "vegetable", kk: "[Ë‹vÉ›dÊ’É™tÉ™b!]", pos: "n.", def: "è”¬èœ", sentence: "You should eat more green vegetables.", trans: "ä½ æ‡‰è©²å¤šåƒç¶ è‰²è”¬èœã€‚", emoji: "ğŸ¥¬" },
                    { word: "strawberry", kk: "[Ë‹strÉ”ËŒbÉ›rÉª]", pos: "n.", def: "è‰è“", sentence: "I love eating strawberry cake.", trans: "æˆ‘æ„›åƒè‰è“è›‹ç³•ã€‚", emoji: "ğŸ“" },
                    { word: "slowly", kk: "[Ë‹sloÊŠlÉª]", pos: "adv.", def: "æ…¢åœ°", sentence: "Please speak more slowly.", trans: "è«‹èªªæ…¢ä¸€é»ã€‚", emoji: "ğŸŒ" },
                    { word: "American", kk: "[É™Ë‹mÉ›rÉªkÉ™n]", pos: "n.", def: "ç¾åœ‹äºº", sentence: "My English teacher is an American.", trans: "æˆ‘çš„è‹±æ–‡è€å¸«æ˜¯ç¾åœ‹äººã€‚", emoji: "ğŸ‡ºğŸ‡¸" },
                    { word: "million", kk: "[Ë‹mÉªljÉ™n]", pos: "n.", def: "ç™¾è¬", sentence: "There are over twenty million people in Taiwan.", trans: "å°ç£æœ‰è¶…éå…©åƒè¬äººã€‚", emoji: "ğŸ’°" },
                    { word: "pound", kk: "[paÊŠnd]", pos: "n.", def: "ç£…", sentence: "I need two pounds of apples, please.", trans: "è«‹çµ¦æˆ‘å…©ç£…è˜‹æœã€‚", emoji: "âš–ï¸" },
                    { word: "pick", kk: "[pÉªk]", pos: "v.", def: "æ¡æ‘˜ï¼›æ’¿æ‹¾", sentence: "Let's go to the farm to pick strawberries.", trans: "æˆ‘å€‘å»è¾²å ´æ¡è‰è“å§ã€‚", emoji: "ğŸ¤" },
                    { word: "bean", kk: "[bin]", pos: "n.", def: "è±†", sentence: "Green beans are good for your health.", trans: "ç¶ è±†å°ä½ çš„å¥åº·æœ‰ç›Šã€‚ ", emoji: "ğŸ«›" },
                    { word: "cent", kk: "[sÉ›nt]", pos: "n.", def: "ç¾åˆ†", sentence: "The candy costs fifty cents.", trans: "é€™ç³–æœè¦äº”åç¾åˆ†ã€‚", emoji: "ğŸª™" },
                    { word: "chance", kk: "[tÊƒÃ¦ns]", pos: "n.", def: "æ©Ÿæœƒ", sentence: "Give him a chance to explain.", trans: "çµ¦ä»–ä¸€å€‹è§£é‡‹çš„æ©Ÿæœƒã€‚", emoji: "ğŸ²" },
                    { word: "choose", kk: "[tÊƒuz]", pos: "v.", def: "é¸æ“‡", sentence: "You can choose any book you like.", trans: "ä½ å¯ä»¥é¸æ“‡ä»»ä½•ä½ å–œæ­¡çš„æ›¸ã€‚", emoji: "ğŸ‘†" },
                    { word: "mean", kk: "[min]", pos: "adj.", def: "åˆ»è–„çš„ï¼›å…‡æƒ¡çš„", sentence: "Don't be so mean to your little brother.", trans: "åˆ¥å°ä½ å¼Ÿå¼Ÿé‚£éº¼åˆ»è–„ã€‚", emoji: "ğŸ‘¿" },
                    { word: "make", kk: "[mek]", pos: "v.", def: "è¦...åš...ï¼›ä½¿...", sentence: "Sad movies always make me cry.", trans: "æ‚²å‚·çš„é›»å½±ç¸½æ˜¯è®“æˆ‘å“­ã€‚", emoji: "ğŸ”¨" },
                    { word: "break", kk: "[brek]", pos: "n.", def: "ä¼‘æ¯", sentence: "Let's take a ten-minute break.", trans: "æˆ‘å€‘ä¼‘æ¯ååˆ†é˜å§ã€‚", emoji: "â˜•" },
                    { word: "over", kk: "[Ë‹ovÉš]", pos: "prep.", def: "è¶…é", sentence: "The meeting lasted over two hours.", trans: "æœƒè­°æŒçºŒäº†è¶…éå…©å°æ™‚ã€‚", emoji: "ğŸ“ˆ" },
                    { word: "treat", kk: "[trit]", pos: "v.", def: "å°å¾…", sentence: "You should treat others with respect.", trans: "ä½ æ‡‰è©²å°Šé‡åœ°å°å¾…ä»–äººã€‚", emoji: "ğŸ¤" },
                    { word: "take... down", kk: "[tek daÊŠn]", pos: "phr.", def: "ä½¿æŸäººå®å°ï¼›æ‹†é™¤", sentence: "The workers took down the old building.", trans: "å·¥äººå€‘æ‹†é™¤äº†é‚£æ£ŸèˆŠå»ºç¯‰ã€‚", emoji: "ğŸ—ï¸" },
                    { word: "have", kk: "[hÃ¦v]", pos: "v.", def: "ä½¿...", sentence: "I will have the waiter bring you some water.", trans: "æˆ‘æœƒè«‹æœå‹™ç”Ÿå¹«ä½ æ‹¿äº›æ°´ã€‚", emoji: "ğŸ—£ï¸" },
                    { word: "owner", kk: "[Ë‹onÉš]", pos: "n.", def: "æ“æœ‰äººï¼›ä¸»äºº", sentence: "Who is the owner of this blue car?", trans: "é€™è¼›è—è‰²è»Šå­çš„ä¸»äººæ˜¯èª°ï¼Ÿ", emoji: "ğŸ”‘" },
                    { word: "produce", kk: "[prÉ™Ë‹djus]", pos: "v.", def: "ç”Ÿç”¢ï¼›è£½é€ ", sentence: "The local farmers produce fresh milk every day.", trans: "ç•¶åœ°çš„è¾²æ°‘æ¯å¤©ç”Ÿç”¢æ–°é®®çš„ç‰›å¥¶ã€‚", emoji: "ğŸ­" },
                    { word: "law", kk: "[lÉ”]", pos: "n.", def: "æ³•å¾‹", sentence: "We must follow the law to keep our city safe.", trans: "æˆ‘å€‘å¿…é ˆéµå®ˆæ³•å¾‹ä»¥ä¿æŒåŸå¸‚çš„å®‰å…¨ã€‚", emoji: "âš–ï¸" },
                    { word: "labor", kk: "[Ë‹lebÉš]", pos: "n.", def: "å‹å·¥ï¼›å‹å‹•", sentence: "Child labor is a serious problem in some countries.", trans: "ç«¥å·¥åœ¨æŸäº›åœ‹å®¶æ˜¯ä¸€å€‹åš´é‡çš„å•é¡Œã€‚", emoji: "ğŸ‘·" },
                    { word: "improve", kk: "[ÉªmË‹pruv]", pos: "v.", def: "æ”¹å–„ï¼›é€²æ­¥", sentence: "I want to improve my English speaking skills.", trans: "æˆ‘æƒ³æ”¹å–„æˆ‘çš„è‹±æ–‡å£èªªèƒ½åŠ›ã€‚", emoji: "ğŸ“ˆ" },
                    { word: "information", kk: "[ËŒÉªnfÉšË‹meÊƒÉ™n]", pos: "n.", def: "è³‡è¨Šï¼›æ¶ˆæ¯", sentence: "You can find more information on our website.", trans: "ä½ å¯ä»¥åœ¨æˆ‘å€‘çš„ç¶²ç«™ä¸Šæ‰¾åˆ°æ›´å¤šè³‡è¨Šã€‚", emoji: "â„¹ï¸" },
                    { word: "cocoa", kk: "[Ë‹koko]", pos: "n.", def: "å¯å¯", sentence: "A cup of hot cocoa is perfect for a cold winter night.", trans: "åœ¨å¯’å†·çš„å†¬å¤œï¼Œä¸€æ¯ç†±å¯å¯æ˜¯æœ€æ£’çš„ã€‚", emoji: "â˜•" },
                    { word: "alone", kk: "[É™Ë‹lon]", pos: "adv.; adj.", def: "ç¨è‡ªåœ°ï¼›å–®ç¨çš„", sentence: "She likes to go to the movies alone.", trans: "å¥¹å–œæ­¡ä¸€å€‹äººå»çœ‹é›»å½±ã€‚", emoji: "ğŸ§" },
                    { word: "bitter", kk: "[Ë‹bÉªtÉš]", pos: "adj.", def: "è‹¦çš„ï¼›è‹¦æ¾€çš„", sentence: "The medicine tastes very bitter, but it will help you.", trans: "é€™è—¥åƒèµ·ä¾†å¾ˆè‹¦ï¼Œä½†å°ä½ æœ‰å¹«åŠ©ã€‚", emoji: "ğŸ˜–" }
                ]
            },
            4: {
                title: "Unit 4: I Can Hear the Wind Blow",
                words: [
                    { word: "typhoon", kk: "[taÉª`fÊŠn]", pos: "n.", def: "é¢±é¢¨", sentence: "A strong typhoon is coming this weekend.", trans: "ä¸€å€‹å¼·çƒˆçš„é¢±é¢¨é€™å€‹é€±æœ«å³å°‡ä¾†è¥²ã€‚", emoji: "ğŸŒ€" },
                    { word: "blow", kk: "[blo]", pos: "v.", def: "å¹", sentence: "The wind is blowing hard outside.", trans: "å¤–é¢æ­£å¹è‘—å¼·é¢¨ã€‚", emoji: "ğŸŒ¬ï¸" },
                    { word: "rose", kk: "[roz]", pos: "n.", def: "ç«ç‘°èŠ±", sentence: "He gave his girlfriend a red rose.", trans: "ä»–é€çµ¦ä»–çš„å¥³æœ‹å‹ä¸€æœµç´…ç«ç‘°ã€‚", emoji: "ğŸŒ¹" },
                    { word: "balcony", kk: "[`bÃ¦lkÉ™nÉª]", pos: "n.", def: "é™½å°", sentence: "My father is smoking on the balcony.", trans: "æˆ‘çˆ¸çˆ¸æ­£åœ¨é™½å°ä¸ŠæŠ½è¸ã€‚", emoji: "ğŸ™ï¸" },
                    { word: "must", kk: "[mÊŒst]", pos: "aux.", def: "å¿…é ˆï¼›ä¸€å®š", sentence: "You must finish your homework before dinner.", trans: "ä½ å¿…é ˆåœ¨æ™šé¤å‰å®Œæˆä½ çš„å®¶åº­ä½œæ¥­ã€‚", emoji: "âš ï¸" },
                    { word: "prepare", kk: "[prÉª`pÉ›r]", pos: "v.", def: "æº–å‚™", sentence: "Mom is preparing breakfast in the kitchen.", trans: "åª½åª½æ­£åœ¨å»šæˆ¿æº–å‚™æ—©é¤ã€‚", emoji: "ğŸ³" },
                    { word: "should", kk: "[ÊƒÊŠd]", pos: "aux.", def: "æ‡‰è©²", sentence: "You should see a doctor if you are sick.", trans: "å¦‚æœä½ ç”Ÿç—…äº†ï¼Œä½ æ‡‰è©²å»çœ‹é†«ç”Ÿã€‚", emoji: "â˜ï¸" },
                    { word: "candle", kk: "[`kÃ¦nd!]", pos: "n.", def: "è Ÿç‡­", sentence: "She blew out the candles on her birthday cake.", trans: "å¥¹å¹ç†„äº†ç”Ÿæ—¥è›‹ç³•ä¸Šçš„è Ÿç‡­ã€‚", emoji: "ğŸ•¯ï¸" },
                    { word: "light", kk: "[laÉªt]", pos: "n.; v.", def: "ç‡ˆï¼›å…‰ï¼›é»äº®", sentence: "Please turn on the light; itâ€™s getting dark.", trans: "å¤©é»‘äº†ï¼Œè«‹æŠŠç‡ˆæ‰“é–‹ã€‚", emoji: "ğŸ’¡" },
                    { word: "radio", kk: "[`redÉª,o]", pos: "n.", def: "æ”¶éŸ³æ©Ÿï¼›å»£æ’­", sentence: "My grandfather listens to the radio every morning.", trans: "æˆ‘çš„ç¥–çˆ¶æ¯å¤©æ—©ä¸Šéƒ½è½æ”¶éŸ³æ©Ÿã€‚", emoji: "ğŸ“»" },
                    { word: "news", kk: "[njuz]", pos: "n.", def: "æ–°èï¼›æ¶ˆæ¯", sentence: "I have good news for you.", trans: "æˆ‘æœ‰å¥½æ¶ˆæ¯è¦å‘Šè¨´ä½ ã€‚", emoji: "ğŸ“°" },
                    { word: "if", kk: "[Éªf]", pos: "conj.", def: "å¦‚æœ", sentence: "If it rains tomorrow, we will stay home.", trans: "å¦‚æœæ˜å¤©ä¸‹é›¨ï¼Œæˆ‘å€‘å°±æœƒå¾…åœ¨å®¶è£¡ã€‚", emoji: "ğŸ¤”" },
                    { word: "star", kk: "[stÉ‘r]", pos: "n.", def: "æ˜Ÿæ˜Ÿ", sentence: "Look at the bright stars in the sky.", trans: "çœ‹å¤©ç©ºä¸­é‚£äº›æ˜äº®çš„æ˜Ÿæ˜Ÿã€‚", emoji: "â­" },
                    { word: "shine", kk: "[ÊƒaÉªn]", pos: "v.", def: "é–ƒè€€ï¼›ç…§è€€", sentence: "The sun shines brightly today.", trans: "ä»Šå¤©å¤ªé™½ç…§è€€å¾—å¾ˆæ˜äº®ã€‚", emoji: "âœ¨" },
                    { word: "giant", kk: "[`dÊ’aÉªÉ™nt]", pos: "adj.", def: "å·¨å¤§çš„", sentence: "They saw a giant panda in the zoo.", trans: "ä»–å€‘åœ¨å‹•ç‰©åœ’çœ‹åˆ°äº†ä¸€éš»å·¨å¤§çš„ç†Šè²“ã€‚", emoji: "ğŸ˜" },
                    { word: "rainbow", kk: "[`ren,bo]", pos: "n.", def: "å½©è™¹", sentence: "There is a rainbow over the mountains.", trans: "å±±çš„é‚£é ­æœ‰ä¸€é“å½©è™¹ã€‚", emoji: "ğŸŒˆ" },
                    { word: "pretty", kk: "[`prÉªtÉª]", pos: "adj.", def: "æ¼‚äº®çš„", sentence: "She is wearing a pretty dress.", trans: "å¥¹ç©¿è‘—ä¸€ä»¶æ¼‚äº®çš„æ´‹è£ã€‚", emoji: "ğŸ‘—" },
                    { word: "garden", kk: "[`gÉ‘rdn]", pos: "n.", def: "èŠ±åœ’", sentence: "Grandma grows vegetables in the garden.", trans: "å¥¶å¥¶åœ¨èŠ±åœ’è£¡ç¨®èœã€‚", emoji: "ğŸ¡" },
                    { word: "frog", kk: "[frÉ‘g]", pos: "n.", def: "é’è›™", sentence: "The frog jumped into the pond.", trans: "é’è›™è·³é€²äº†æ± å¡˜è£¡ã€‚", emoji: "ğŸ¸" },
                    { word: "noise", kk: "[nÉ”Éªz]", pos: "n.", def: "è²éŸ¿ï¼›å™ªéŸ³", sentence: "Donâ€™t make so much noise in the library.", trans: "ä¸è¦åœ¨åœ–æ›¸é¤¨è£½é€ é€™éº¼å¤šå™ªéŸ³ã€‚", emoji: "ğŸ”Š" },
                    { word: "pond", kk: "[pÉ‘nd]", pos: "n.", def: "æ± å¡˜", sentence: "There are many fish in the pond.", trans: "æ± å¡˜è£¡æœ‰å¾ˆå¤šé­šã€‚", emoji: "â›²" },
                    { word: "earthquake", kk: "[`ÉÎ¸,kwek]", pos: "n.", def: "åœ°éœ‡", sentence: "Did you feel the earthquake last night?", trans: "ä½ æœ‰æ„Ÿè¦ºåˆ°æ˜¨æ™šçš„åœ°éœ‡å—ï¼Ÿ", emoji: "ğŸšï¸" },
                    { word: "bravely", kk: "[`brevlÄ±]", pos: "adv.", def: "å‹‡æ•¢åœ°", sentence: "The soldier fought bravely in the war.", trans: "é‚£ä½å£«å…µåœ¨æˆ°çˆ­ä¸­è‹±å‹‡åœ°æˆ°é¬¥ã€‚", emoji: "ğŸ¦¸" },
                    { word: "through", kk: "[Î¸ru]", pos: "prep.", def: "ç©¿è¶Š", sentence: "The train went through a tunnel.", trans: "ç«è»Šç©¿è¶Šäº†éš§é“ã€‚", emoji: "ğŸš‡" },
                    { word: "sharp", kk: "[ÊƒÉ‘rp]", pos: "adj.", def: "å°–éŠ³çš„", sentence: "Be careful with that sharp knife.", trans: "å°å¿ƒé‚£æŠŠé‹’åˆ©çš„åˆ€å­ã€‚", emoji: "ğŸ”ª" },
                    { word: "reach", kk: "[ritÊƒ]", pos: "v.", def: "åˆ°é”", sentence: "We will reach the top of the mountain soon.", trans: "æˆ‘å€‘å¾ˆå¿«å°±æœƒåˆ°é”å±±é ‚ã€‚", emoji: "ğŸ" },
                    { word: "space", kk: "[spes]", pos: "n.", def: "ç©ºé–“", sentence: "There is no space for a new table in my room.", trans: "æˆ‘çš„æˆ¿é–“æ²’æœ‰ç©ºé–“æ”¾æ–°æ¡Œå­äº†ã€‚", emoji: "ğŸš€" },
                    { word: "size", kk: "[saÉªz]", pos: "n.", def: "å¤§å°ï¼›å°ºå¯¸", sentence: "What size shoes do you wear?", trans: "ä½ ç©¿å¹¾è™Ÿ(ä»€éº¼å°ºå¯¸)çš„é‹å­ï¼Ÿ", emoji: "ğŸ“" },
                    { word: "or", kk: "[É”r]", pos: "conj.", def: "å¦å‰‡", sentence: "Hurry up, or you will be late for school.", trans: "å¿«ä¸€é»ï¼Œå¦å‰‡ä½ ä¸Šå­¸æœƒé²åˆ°ã€‚", emoji: "ğŸ¤·" },
                    { word: "have to", kk: "[`hÃ¦v tu]", pos: "phr.", def: "å¿…é ˆ", sentence: "I have to go now.", trans: "æˆ‘ç¾åœ¨å¿…é ˆèµ°äº†ã€‚", emoji: "ğŸ“‹" },
                    { word: "go out", kk: "[,go `aÊŠt]", pos: "phr.", def: "ç†„æ»…", sentence: "The lights went out during the storm.", trans: "æš´é¢¨é›¨æœŸé–“ç‡ˆç†„æ»…äº†ã€‚", emoji: "ğŸ§¯" },
                    { word: "train", kk: "[tren]", pos: "v.", def: "è¨“ç·´", sentence: "He trains hard every day for the game.", trans: "ç‚ºäº†æ¯”è³½ï¼Œä»–æ¯å¤©éƒ½å¾ˆåŠªåŠ›è¨“ç·´ã€‚", emoji: "ğŸ‹ï¸" },
                    { word: "face", kk: "[fes]", pos: "v.", def: "é¢å°", sentence: "You must face your problems.", trans: "ä½ å¿…é ˆé¢å°ä½ çš„å•é¡Œã€‚", emoji: "ğŸ¦" },
                    { word: "try one's best", kk: "[traÉª wÊŒnz bÉ›st]", pos: "phr.", def: "ç›¡åŠ›è€Œç‚º", sentence: "I will try my best to pass the exam.", trans: "æˆ‘æœƒç›¡åŠ›é€šéè€ƒè©¦ã€‚", emoji: "ğŸ”¥" },
                    { word: "turn on", kk: "[,tÉn `É‘n]", pos: "phr.", def: "æ‰“é–‹ (é›»æº)", sentence: "Please turn on the TV.", trans: "è«‹æ‰“é–‹é›»è¦–ã€‚", emoji: "ğŸ“º" },
                    { word: "latest", kk: "[`letÉªst]", pos: "adj.", def: "æœ€æ–°çš„", sentence: "This is the latest model of the phone.", trans: "é€™æ˜¯é€™æ¬¾æ‰‹æ©Ÿæœ€æ–°çš„å‹è™Ÿã€‚", emoji: "ğŸ†•" },
                    { word: "as", kk: "[Ã¦z]", pos: "prep.", def: "ä½œç‚ºï¼›å¦‚åŒ", sentence: "He works as a teacher.", trans: "ä»–ä½œç‚ºä¸€åè€å¸«å·¥ä½œ (ä»–çš„è·æ¥­æ˜¯è€å¸«)ã€‚", emoji: "ğŸ‘¨â€ğŸ«" },
                    { word: "times", kk: "[taÉªmz]", pos: "n.", def: "å€", sentence: "This box is three times bigger than that one.", trans: "é€™å€‹ç®±å­æ¯”é‚£å€‹å¤§ä¸‰å€ã€‚", emoji: "âœ–ï¸" },
                    { word: "sway", kk: "[swe]", pos: "v.", def: "æ–æ“º", sentence: "The trees swayed in the wind.", trans: "æ¨¹æœ¨åœ¨é¢¨ä¸­æ–æ“ºã€‚", emoji: "ğŸ‹" },
                    { word: "flashlight", kk: "[`flÃ¦Êƒ,laÉªt]", pos: "n.", def: "æ‰‹é›»ç­’", sentence: "It was dark, so we used a flashlight.", trans: "å¤©å¾ˆé»‘ï¼Œæ‰€ä»¥æˆ‘å€‘ç”¨äº†æ‰‹é›»ç­’ã€‚", emoji: "ğŸ”¦" },
                    { word: "fear", kk: "[fÉªr]", pos: "n.", def: "ææ‡¼", sentence: "She has a fear of snakes.", trans: "å¥¹å°è›‡æœ‰ææ‡¼æ„Ÿã€‚", emoji: "ğŸ˜±" },
                    { word: "rescue", kk: "[`rÉ›skju]", pos: "n./v.", def: "æ•‘æ´", sentence: "The firefighters came to rescue the cat.", trans: "æ¶ˆé˜²å“¡ä¾†æ•‘æ´é‚£éš»è²“ã€‚", emoji: "ğŸš’" },
                    { word: "rubble", kk: "[`rÊŒb!]", pos: "n.", def: "ç“¦ç¤«ï¼›ç¢çŸ³", sentence: "The building was reduced to rubble after the earthquake.", trans: "åœ°éœ‡å¾Œï¼Œé‚£æ£Ÿå»ºç¯‰ç‰©è®Šæˆäº†ä¸€å †ç“¦ç¤«ã€‚", emoji: "ğŸ§±" },
                    { word: "sense", kk: "[sÉ›ns]", pos: "n.", def: "æ„Ÿå®˜", sentence: "Dogs have a good sense of smell.", trans: "ç‹—æœ‰å¾ˆå¥½çš„å—…è¦ºã€‚", emoji: "ğŸ‘ƒ" },
                    { word: "survivor", kk: "[sÉš`vaÉªvÉš]", pos: "n.", def: "ç”Ÿé‚„è€…", sentence: "They found a survivor in the forest.", trans: "ä»–å€‘åœ¨æ£®æ—è£¡ç™¼ç¾äº†ä¸€åç”Ÿé‚„è€…ã€‚", emoji: "ğŸ†˜" }
                ]
            },
            5: {
                title: "Unit 5: All of the Food Stands Look Great",
                words: [
                    { word: "although", kk: "[É”l`Ã°o]", pos: "conj.", def: "é›–ç„¶", sentence: "Although he is old, he is very strong.", trans: "é›–ç„¶ä»–å¹´ç´€å¤§äº†ï¼Œä½†ä»–éå¸¸å¼·å£¯ã€‚", emoji: "ğŸ‘´" },
                    { word: "matter", kk: "[`mÃ¦tÉš]", pos: "n.", def: "å•é¡Œï¼›äº‹ä»¶", sentence: "What is the matter with your car?", trans: "ä½ çš„è»Šå­æœ‰ä»€éº¼å•é¡Œå—ï¼Ÿ", emoji: "â“" },
                    { word: "sore throat", kk: "[`sor ,Î¸rot]", pos: "n.", def: "å–‰åš¨ç—›", sentence: "I have a sore throat, so I canâ€™t sing.", trans: "æˆ‘å–‰åš¨ç—›ï¼Œæ‰€ä»¥ä¸èƒ½å”±æ­Œã€‚", emoji: "ğŸ˜«" },
                    { word: "explain", kk: "[Éªk`splen]", pos: "v.", def: "è§£é‡‹", sentence: "The teacher explained the math problem to us.", trans: "è€å¸«å‘æˆ‘å€‘è§£é‡‹äº†é€™é“æ•¸å­¸é¡Œã€‚", emoji: "ğŸ—£ï¸" },
                    { word: "cough", kk: "[kÉ”f]", pos: "v./n.", def: "å’³å—½", sentence: "Please cover your mouth when you cough.", trans: "å’³å—½æ™‚è«‹é®ä½ä½ çš„å˜´å·´ã€‚", emoji: "ğŸ˜·" },
                    { word: "probably", kk: "[`prÉ‘bÉ™blÉª]", pos: "adv.", def: "å¾ˆå¯èƒ½ï¼›å¤§æ¦‚", sentence: "It will probably rain this afternoon.", trans: "ä»Šå¤©ä¸‹åˆå¾ˆå¯èƒ½æœƒä¸‹é›¨ã€‚", emoji: "ğŸŒ§ï¸" },
                    { word: "take care of", kk: "[,tek `kÉ›r É™v]", pos: "phr.", def: "ç…§é¡§", sentence: "She stays home to take care of her baby.", trans: "å¥¹å¾…åœ¨å®¶è£¡ç…§é¡§å¥¹çš„å¯¶å¯¶ã€‚", emoji: "ğŸ¤±" },
                    { word: "noon", kk: "[nun]", pos: "n.", def: "ä¸­åˆ", sentence: "We usually have lunch at noon.", trans: "æˆ‘å€‘é€šå¸¸åœ¨ä¸­åˆåƒåˆé¤ã€‚", emoji: "ğŸ•›" },
                    { word: "both", kk: "[boÎ¸]", pos: "pron.", def: "å…©è€…ï¼ˆéƒ½ï¼‰", sentence: "Both of my parents are doctors.", trans: "æˆ‘çš„çˆ¶æ¯è¦ªå…©ä½éƒ½æ˜¯é†«ç”Ÿã€‚", emoji: "âœŒï¸" },
                    { word: "sick", kk: "[sÉªk]", pos: "adj.", def: "ç”Ÿç—…çš„", sentence: "He didn't go to work because he was sick.", trans: "ä»–å› ç‚ºç”Ÿç—…æ²’å»ä¸Šç­ã€‚", emoji: "ğŸ¤’" },
                    { word: "medicine", kk: "[`mÉ›dÉ™sá¹‡]", pos: "n.", def: "è—¥", sentence: "You should take some medicine for your cold.", trans: "ä½ æ‡‰è©²åƒé»è—¥ä¾†æ²»ç™‚æ„Ÿå†’ã€‚", emoji: "ğŸ’Š" },
                    { word: "honey", kk: "[`hÊŒnÉª]", pos: "n.", def: "èœ‚èœœ", sentence: "I like to put honey on my pancakes.", trans: "æˆ‘å–œæ­¡åœ¨é¬†é¤…ä¸Šæ·‹èœ‚èœœã€‚", emoji: "ğŸ¯" },
                    { word: "lemon", kk: "[`lÉ›mÉ™n]", pos: "n.", def: "æª¸æª¬", sentence: "Would you like some lemon in your tea?", trans: "ä½ çš„èŒ¶è£¡è¦åŠ é»æª¸æª¬å—ï¼Ÿ", emoji: "ğŸ‹" },
                    { word: "useful", kk: "[`jusfÉ™l]", pos: "adj.", def: "æœ‰ç”¨çš„", sentence: "The internet is a useful tool for learning.", trans: "ç¶²è·¯æ˜¯å€‹å­¸ç¿’çš„æœ‰ç”¨å·¥å…·ã€‚", emoji: "ğŸ› ï¸" },
                    { word: "head", kk: "[hÉ›d]", pos: "n.", def: "é ­", sentence: "He nodded his head to say yes.", trans: "ä»–é»é ­è¡¨ç¤ºåŒæ„ã€‚", emoji: "ğŸ’†" },
                    { word: "headache", kk: "[`hÉ›d,ek]", pos: "n.", def: "é ­ç—›", sentence: "The loud music gave me a headache.", trans: "åµé›œçš„éŸ³æ¨‚è®“æˆ‘é ­ç—›ã€‚", emoji: "ğŸ¤•" },
                    { word: "stomachache", kk: "[`stÊŒmÉ™k,ek]", pos: "n.", def: "èƒƒç—›", sentence: "Don't eat too much, or you will get a stomachache.", trans: "åˆ¥åƒå¤ªå¤šï¼Œå¦å‰‡ä½ æœƒèƒƒç—›ã€‚", emoji: "ğŸ¤¢" },
                    { word: "fever", kk: "[`fivÉš]", pos: "n.", def: "ç™¼ç‡’", sentence: "The baby has a high fever.", trans: "å¯¶å¯¶ç™¼é«˜ç‡’äº†ã€‚", emoji: "ğŸŒ¡ï¸" },
                    { word: "runny nose", kk: "[,rÊŒnÉª `noz]", pos: "n.", def: "æµé¼»æ°´", sentence: "I need a tissue because I have a runny nose.", trans: "æˆ‘éœ€è¦ä¸€å¼µè¡›ç”Ÿç´™ï¼Œå› ç‚ºæˆ‘åœ¨æµé¼»æ°´ã€‚", emoji: "ğŸ¤§" },
                    { word: "knee", kk: "[ni]", pos: "n.", def: "è†è“‹", sentence: "He fell down and hurt his knee.", trans: "ä»–è·Œå€’ä¸¦å¼„å‚·äº†è†è“‹ã€‚", emoji: "ğŸ¦µ" },
                    { word: "nail", kk: "[nel]", pos: "n.", def: "æŒ‡ç”²", sentence: "Stop biting your nails.", trans: "åˆ¥å†å’¬æŒ‡ç”²äº†ã€‚", emoji: "ğŸ’…" },
                    { word: "finger", kk: "[`fÉªÅ‹gÉš]", pos: "n.", def: "æ‰‹æŒ‡", sentence: "She wears a ring on her finger.", trans: "å¥¹åœ¨æ‰‹æŒ‡ä¸Šæˆ´äº†ä¸€æšæˆ’æŒ‡ã€‚", emoji: "ğŸ‘†" },
                    { word: "neck", kk: "[nÉ›k]", pos: "n.", def: "è„–å­", sentence: "My neck hurts from looking at the computer too long.", trans: "æˆ‘çœ‹é›»è…¦å¤ªä¹…ï¼Œè„–å­å¾ˆç—›ã€‚", emoji: "ğŸ¦’" },
                    { word: "shoulder", kk: "[`ÊƒoldÉš]", pos: "n.", def: "è‚©è†€", sentence: "He tapped me on the shoulder.", trans: "ä»–æ‹äº†æ‹æˆ‘çš„è‚©è†€ã€‚", emoji: "ğŸ¤·" },
                    { word: "common", kk: "[`kÉ‘mÉ™n]", pos: "adj.", def: "å¸¸è¦‹çš„ï¼›å…±åŒçš„", sentence: "Smith is a common last name.", trans: "å²å¯†æ–¯æ˜¯ä¸€å€‹å¸¸è¦‹çš„å§“æ°ã€‚", emoji: "ğŸ˜ï¸" },
                    { word: "actually", kk: "[`Ã¦ktÊƒÊŠÉ™lÉª]", pos: "adv.", def: "å¯¦éš›ä¸Šï¼›äº‹å¯¦ä¸Š", sentence: "Actually, I don't like coffee.", trans: "äº‹å¯¦ä¸Šï¼Œæˆ‘ä¸å–œæ­¡å’–å•¡ã€‚", emoji: "â˜•" },
                    { word: "helpful", kk: "[`hÉ›lpfÉ™l]", pos: "adj.", def: "æœ‰å¹«åŠ©çš„", sentence: "Thank you for your helpful advice.", trans: "è¬è¬ä½ æœ‰å¹«åŠ©çš„å»ºè­°ã€‚", emoji: "ğŸ¤" },
                    { word: "root", kk: "[rut]", pos: "n.", def: "æ ¹", sentence: "Water helps the roots of the plant grow.", trans: "æ°´å¹«åŠ©æ¤ç‰©çš„æ ¹ç”Ÿé•·ã€‚", emoji: "ğŸŒ±" },
                    { word: "reason", kk: "[`rizá¹‡]", pos: "n.", def: "åŸå› ï¼›ç†ç”±", sentence: "Tell me the reason why you are late.", trans: "å‘Šè¨´æˆ‘ä½ é²åˆ°çš„åŸå› ã€‚", emoji: "â“" },
                    { word: "stand", kk: "[stÃ¦nd]", pos: "n.", def: "æ”¤ä½", sentence: "They sell hot dogs at that stand.", trans: "ä»–å€‘åœ¨é‚£å€‹æ”¤ä½è³£ç†±ç‹—ã€‚", emoji: "ğŸŒ­" },
                    { word: "feel like", kk: "[,fil `laÉªk]", pos: "phr.", def: "æƒ³è¦", sentence: "I feel like going for a walk.", trans: "æˆ‘æƒ³è¦å»æ•£æ­¥ã€‚", emoji: "ğŸš¶" },
                    { word: "cold", kk: "[kold]", pos: "n.", def: "æ„Ÿå†’", sentence: "Dress warmly so you don't catch a cold.", trans: "ç©¿æš–å’Œä¸€é»æ‰ä¸æœƒæ„Ÿå†’ã€‚", emoji: "ğŸ¥¶" },
                    { word: "well", kk: "[wÉ›l]", pos: "adj.", def: "å¥åº·çš„", sentence: "I don't feel well today.", trans: "æˆ‘ä»Šå¤©è¦ºå¾—èº«é«”ä¸èˆ’æœã€‚", emoji: "ğŸ¤¢" },
                    { word: "must", kk: "[mÊŒst]", pos: "n.", def: "å¿…è¦çš„äº‹ç‰©", sentence: "A passport is a must when you travel abroad.", trans: "å‡ºåœ‹æ—…éŠæ™‚è­·ç…§æ˜¯å¿…å‚™å“ã€‚", emoji: "ğŸ›‚" },
                    { word: "under the weather", kk: "[ÊŒndÉš Ã°É™ wÉ›Ã°Éš]", pos: "phr.", def: "èº«é«”ä¸èˆ’æœ", sentence: "I'm feeling a bit under the weather today.", trans: "æˆ‘ä»Šå¤©è¦ºå¾—æœ‰é»ä¸èˆ’æœã€‚", emoji: "ğŸŒ§ï¸" },
                    { word: "treat", kk: "[trit]", pos: "v.", def: "æ²»ç™‚", sentence: "Doctors treat patients in the hospital.", trans: "é†«ç”Ÿåœ¨é†«é™¢æ²»ç™‚ç—…äººã€‚", emoji: "ğŸ‘¨â€âš•ï¸" },
                    { word: "recipe", kk: "[`rÉ›sÉ™pÉª]", pos: "n.", def: "é£Ÿè­œ", sentence: "This is my grandmother's secret recipe.", trans: "é€™æ˜¯æˆ‘ç¥–æ¯çš„ç§˜å¯†é£Ÿè­œã€‚", emoji: "ğŸ“–" },
                    { word: "culture", kk: "[`kÊŒltÊƒÉš]", pos: "n.", def: "æ–‡åŒ–", sentence: "Every country has its own culture.", trans: "æ¯å€‹åœ‹å®¶éƒ½æœ‰è‡ªå·±çš„æ–‡åŒ–ã€‚", emoji: "ğŸŒ" },
                    { word: "garlic", kk: "[`gÉ‘rlÉªk]", pos: "n.", def: "å¤§è’œ", sentence: "Garlic has a strong smell.", trans: "å¤§è’œæœ‰å¼·çƒˆçš„æ°£å‘³ã€‚", emoji: "ğŸ§„" },
                    { word: "ginger", kk: "[`dÊ’ÉªndÊ’Éš]", pos: "n.", def: "è–‘", sentence: "Ginger tea can warm you up in winter.", trans: "å†¬å¤©å–è–‘èŒ¶å¯ä»¥è®“ä½ æš–å’Œèµ·ä¾†ã€‚", emoji: "ğŸ«š" }
                ]
            },
            6: {
                title: "Unit 6: You Can Throw a Ball, Can't You?",
                words: [
                    { word: "pass", kk: "[pÃ¦s]", pos: "v.", def: "å‚³é", sentence: "Can you pass the salt to me?", trans: "ä½ å¯ä»¥æŠŠé¹½å‚³çµ¦æˆ‘å—ï¼Ÿ", emoji: "âœ‹" },
                    { word: "throw", kk: "[Î¸ro]", pos: "v.", def: "ä¸Ÿï¼›æŠ•æ“²", sentence: "Don't throw trash on the floor.", trans: "ä¸è¦æŠŠåƒåœ¾ä¸Ÿåœ¨åœ°æ¿ä¸Šã€‚", emoji: "ğŸ¥" },
                    { word: "point", kk: "[pÉ”Éªnt]", pos: "n.", def: "å¾—åˆ†", sentence: "We need one more point to win the game.", trans: "æˆ‘å€‘é‚„å·®ä¸€åˆ†å°±èƒ½è´å¾—æ¯”è³½ã€‚", emoji: "â˜ï¸" },
                    { word: "win", kk: "[wÉªn]", pos: "v.", def: "è´ï¼›ç²å‹", sentence: "Who will win the race?", trans: "èª°æœƒè´å¾—é€™å ´æ¯”è³½ï¼Ÿ", emoji: "ğŸ†" },
                    { word: "group", kk: "[grup]", pos: "n.", def: "åœ˜é«”", sentence: "We worked in a group to finish the project.", trans: "æˆ‘å€‘åˆ†çµ„å®Œæˆäº†é€™å€‹å°ˆæ¡ˆã€‚", emoji: "ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦" },
                    { word: "grade", kk: "[gred]", pos: "n.", def: "æˆç¸¾", sentence: "She got a good grade on the math test.", trans: "å¥¹åœ¨æ•¸å­¸è€ƒè©¦ä¸­å¾—åˆ°äº†å¥½æˆç¸¾ã€‚", emoji: "ğŸ“" },
                    { word: "fail", kk: "[fel]", pos: "v.", def: "è€ƒä¸åŠæ ¼ï¼›å¤±æ•—", sentence: "He studied hard so he wouldn't fail the exam.", trans: "ä»–åŠªåŠ›è®€æ›¸ä»¥å…è€ƒè©¦ä¸åŠæ ¼ã€‚", emoji: "âŒ" },
                    { word: "test", kk: "[tÉ›st]", pos: "n.", def: "è€ƒè©¦", sentence: "We have a history test tomorrow.", trans: "æˆ‘å€‘æ˜å¤©æœ‰å€‹æ­·å²è€ƒè©¦ã€‚", emoji: "ğŸ“„" },
                    { word: "afraid", kk: "[É™`fred]", pos: "adj.", def: "å®³æ€•çš„ï¼›æ“”æ†‚çš„", sentence: "Don't be afraid of the dark.", trans: "ä¸è¦å®³æ€•é»‘æš—ã€‚", emoji: "ğŸ˜¨" },
                    { word: "smart", kk: "[smÉ‘rt]", pos: "adj.", def: "è°æ˜çš„", sentence: "Dolphins are very smart animals.", trans: "æµ·è±šæ˜¯éå¸¸è°æ˜çš„å‹•ç‰©ã€‚", emoji: "ğŸ§ " },
                    { word: "begin", kk: "[bÉª`gÉªn]", pos: "v.", def: "é–‹å§‹", sentence: "The movie will begin at 7:00 PM.", trans: "é›»å½±å°‡åœ¨æ™šä¸Šä¸ƒé»é–‹å§‹ã€‚", emoji: "â–¶ï¸" },
                    { word: "meeting", kk: "[`mitÉªÅ‹]", pos: "n.", def: "æœƒè­°ï¼›æœƒé¢", sentence: "My father is in a meeting right now.", trans: "æˆ‘çˆ¶è¦ªç¾åœ¨æ­£åœ¨é–‹æœƒã€‚", emoji: "ğŸ¤" },
                    { word: "simple", kk: "[`sÉªmp!]", pos: "adj.", def: "ç°¡å–®çš„", sentence: "The question is simple to answer.", trans: "é€™å€‹å•é¡Œå¾ˆå®¹æ˜“å›ç­”ã€‚", emoji: "ğŸ‘Œ" },
                    { word: "expect", kk: "[Éªk`spÉ›kt]", pos: "v.", def: "é è¨ˆï¼›æœŸæœ›", sentence: "I expect him to arrive soon.", trans: "æˆ‘é è¨ˆä»–å¾ˆå¿«å°±æœƒåˆ°é”ã€‚", emoji: "ğŸ•°ï¸" },
                    { word: "mistake", kk: "[mÉª`stek]", pos: "n.", def: "éŒ¯èª¤", sentence: "Everyone makes mistakes.", trans: "æ¯å€‹äººéƒ½æœƒçŠ¯éŒ¯ã€‚", emoji: "âŒ" },
                    { word: "angle", kk: "[`Ã¦Å‹g!]", pos: "n.", def: "ç«‹å ´ï¼›è§’åº¦", sentence: "Try looking at the problem from a different angle.", trans: "è©¦è‘—å¾ä¸åŒçš„è§’åº¦çœ‹é€™å€‹å•é¡Œã€‚", emoji: "ğŸ“" },
                    { word: "allow", kk: "[É™`laÊŠ]", pos: "v.", def: "å…è¨±", sentence: "My parents don't allow me to play video games at night.", trans: "æˆ‘çˆ¶æ¯ä¸å…è¨±æˆ‘æ™šä¸Šæ‰“é›»å‹•ã€‚", emoji: "âœ…" },
                    { word: "laugh", kk: "[lÃ¦f]", pos: "v./n.", def: "ç¬‘ï¼›ç¬‘è²", sentence: "The joke made everyone laugh.", trans: "é‚£å€‹ç¬‘è©±è®“å¤§å®¶éƒ½ç¬‘äº†ã€‚", emoji: "ğŸ˜‚" },
                    { word: "bring", kk: "[brÉªÅ‹]", pos: "v.", def: "å¸¶ä¾†ï¼›æ”œå¸¶", sentence: "Please bring your umbrella; it might rain.", trans: "è«‹å¸¶è‘—ä½ çš„é›¨å‚˜ï¼Œå¯èƒ½æœƒä¸‹é›¨ã€‚", emoji: "ğŸ’" },
                    { word: "honest", kk: "[`É‘nÉªst]", pos: "adj.", def: "èª å¯¦çš„ï¼›å¯ä¿¡çš„", sentence: "To be honest, I don't like this movie.", trans: "è€å¯¦èªªï¼Œæˆ‘ä¸å–œæ­¡é€™éƒ¨é›»å½±ã€‚", emoji: "ğŸ˜‡" },
                    { word: "lead to", kk: "[`lid tu]", pos: "phr.", def: "å°è‡´", sentence: "Smoking can lead to health problems.", trans: "å¸è¸æœƒå°è‡´å¥åº·å•é¡Œã€‚", emoji: "â¡ï¸" },
                    { word: "push", kk: "[pÊŠÊƒ]", pos: "v.", def: "è¿«ä½¿ï¼›æ¨å‹•", sentence: "Push the door to open it.", trans: "æ¨é–€æŠŠå®ƒæ‰“é–‹ã€‚", emoji: "âœ‹" },
                    { word: "excellent", kk: "[`É›ksá¸·É™nt]", pos: "adj.", def: "å„ªç§€çš„ï¼›æ¥µä½³çš„", sentence: "She is an excellent student.", trans: "å¥¹æ˜¯ä¸€ä½å„ªç§€çš„å­¸ç”Ÿã€‚", emoji: "ğŸŒŸ" },
                    { word: "be able to", kk: "[bi `eb! tu]", pos: "phr.", def: "èƒ½å¤ ", sentence: "Will you be able to come to the party?", trans: "ä½ èƒ½å¤ ä¾†åƒåŠ æ´¾å°å—ï¼Ÿ", emoji: "ğŸ’ª" },
                    { word: "define", kk: "[dÉª`faÉªn]", pos: "v.", def: "ä¸‹å®šç¾©ï¼›ç•Œå®š", sentence: "It is hard to define the word \"love\".", trans: "å¾ˆé›£çµ¦ã€Œæ„›ã€é€™å€‹å­—ä¸‹å®šç¾©ã€‚", emoji: "ğŸ“–" },
                    { word: "come on", kk: "[,kÊŒm `É‘n]", pos: "phr.", def: "å¿«é»ï¼›å°‘ä¾†äº†", sentence: "Come on! We are going to be late.", trans: "å¿«é»ï¼æˆ‘å€‘è¦é²åˆ°äº†ã€‚", emoji: "ğŸƒ" },
                    { word: "excuse", kk: "[Éªk`skjus]", pos: "n.", def: "è—‰å£ï¼›ç†ç”±", sentence: "He always has an excuse for being late.", trans: "ä»–é²åˆ°ç¸½æ˜¯æœ‰è—‰å£ã€‚", emoji: "ğŸ¤·" },
                    { word: "around the corner", kk: "[É™,raÊŠnd Ã°É™ `kÉ”rnÉš]", pos: "phr.", def: "å³å°‡ä¾†è‡¨ï¼›åœ¨é™„è¿‘", sentence: "Christmas is around the corner.", trans: "è–èª•ç¯€å³å°‡ä¾†è‡¨ã€‚", emoji: "ğŸ„" },
                    { word: "hold back", kk: "[hold `bÃ¦k]", pos: "phr.", def: "é˜»ç¤™", sentence: "Don't let fear hold you back.", trans: "åˆ¥è®“ææ‡¼é˜»ç¤™äº†ä½ ã€‚", emoji: "ğŸ›‘" },
                    { word: "count... in", kk: "[kaÊŠnt `Éªn]", pos: "phr.", def: "ç®—...åƒåŠ ä¸€ä»½", sentence: "If you are going for a hike, count me in.", trans: "å¦‚æœä½ å€‘è¦å»å¥è¡Œï¼Œç®—æˆ‘ä¸€ä»½ã€‚", emoji: "ğŸ™‹" },
                    { word: "keep in mind", kk: "[,kip Éªn `maÉªnd]", pos: "phr.", def: "è¨˜ä½", sentence: "Please keep in mind that the library closes at 5.", trans: "è«‹è¨˜ä½åœ–æ›¸é¤¨äº”é»é—œé–€ã€‚", emoji: "ğŸ§ " },
                    { word: "matter", kk: "[`mÃ¦tÉš]", pos: "v.", def: "è¦ç·Šï¼›é‡è¦", sentence: "It doesn't matter if you win or lose.", trans: "è¼¸è´ä¸¦ä¸é‡è¦ã€‚", emoji: "â—" },
                    { word: "picture", kk: "[`pÉªktÊƒÉš]", pos: "v.", def: "æƒ³åƒ", sentence: "Can you picture yourself living on Mars?", trans: "ä½ èƒ½æƒ³åƒè‡ªå·±ä½åœ¨ç«æ˜Ÿä¸Šå—ï¼Ÿ", emoji: "ğŸ–¼ï¸" },
                    { word: "as for", kk: "[`Ã¦z fÉš]", pos: "phr.", def: "è‡³æ–¼", sentence: "As for me, I prefer tea over coffee.", trans: "è‡³æ–¼æˆ‘ï¼Œæˆ‘å–œæ­¡èŒ¶å‹éå’–å•¡ã€‚", emoji: "ğŸ‘‰" },
                    { word: "to the full", kk: "[tÉ™ Ã°É™ `fÊŠl]", pos: "phr.", def: "ç›¡å¯èƒ½", sentence: "Enjoy your life to the full.", trans: "ç›¡å¯èƒ½äº«å—ä½ çš„äººç”Ÿã€‚", emoji: "ğŸ’¯" },
                    { word: "fair", kk: "[fÉ›r]", pos: "n.", def: "å±•è¦½æœƒ", sentence: "We visited the book fair yesterday.", trans: "æˆ‘å€‘æ˜¨å¤©åƒè§€äº†æ›¸å±•ã€‚", emoji: "ğŸ¡" },
                    { word: "creative", kk: "[kri`etÉªv]", pos: "adj.", def: "æœ‰å‰µæ„çš„", sentence: "She is very creative and loves to draw.", trans: "å¥¹éå¸¸æœ‰å‰µæ„ï¼Œå–œæ­¡ç•«ç•«ã€‚", emoji: "ğŸ¨" },
                    { word: "stereotype", kk: "[`stÉ›rÉªÉ™,taÉªp]", pos: "n./v.", def: "åˆ»æ¿å°è±¡ï¼›å°...æœ‰åè¦‹", sentence: "There is a stereotype that boys are better at sports.", trans: "æœ‰ä¸€ç¨®åˆ»æ¿å°è±¡èªç‚ºç”·ç”Ÿæ¯”è¼ƒæ“…é•·é‹å‹•ã€‚", emoji: "ğŸ·ï¸" },
                    { word: "judgement", kk: "[`dÊ’ÊŒdÊ’mÉ™nt]", pos: "n.", def: "åˆ¤æ–·", sentence: "Use your own judgement to decide.", trans: "é‹ç”¨ä½ è‡ªå·±çš„åˆ¤æ–·åŠ›ä¾†æ±ºå®šã€‚", emoji: "âš–ï¸" },
                    { word: "respect", kk: "[rÉª`spÉ›kt]", pos: "v./n.", def: "å°Šé‡", sentence: "We should respect our elders.", trans: "æˆ‘å€‘æ‡‰è©²å°Šé‡é•·è¼©ã€‚", emoji: "ğŸ™‡" },
                    { word: "gender", kk: "[`dÊ’É›ndÉš]", pos: "n.", def: "æ€§åˆ¥", sentence: "Gender equality is important.", trans: "æ€§åˆ¥å¹³ç­‰å¾ˆé‡è¦ã€‚", emoji: "ğŸš»" },
                    { word: "self", kk: "[sÉ›lf]", pos: "n.", def: "è‡ªæˆ‘", sentence: "He has a strong sense of self.", trans: "ä»–æœ‰å¾ˆå¼·çƒˆçš„è‡ªæˆ‘æ„è­˜ã€‚", emoji: "ğŸª" },
                    { word: "talent", kk: "[`tÃ¦lÉ™nt]", pos: "n.", def: "äººæ‰ï¼›å¤©åˆ†", sentence: "She has a talent for music.", trans: "å¥¹æœ‰éŸ³æ¨‚å¤©åˆ†ã€‚", emoji: "ğŸŒŸ" },
                    { word: "designer", kk: "[dÉª`zaÉªnÉš]", pos: "n.", def: "è¨­è¨ˆå¸«", sentence: "He wants to be a fashion designer.", trans: "ä»–æƒ³æˆç‚ºä¸€åæ™‚è£è¨­è¨ˆå¸«ã€‚", emoji: "ğŸ‘—" },
                    { word: "record", kk: "[`rÉ›kÉšd]", pos: "n.", def: "ç´€éŒ„ï¼›è¨˜è¼‰", sentence: "He holds the world record for swimming.", trans: "ä»–ä¿æŒè‘—æ¸¸æ³³çš„ä¸–ç•Œç´€éŒ„ã€‚", emoji: "ğŸ¥‡" }
                ]
            }
        };

        // QuizMode Component
        const QuizMode = ({ words }) => {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [score, setScore] = useState(0);
            const [showScore, setShowScore] = useState(false);
            const [selectedOption, setSelectedOption] = useState(null);
            const [isCorrect, setIsCorrect] = useState(null);
            const [shuffledQuestions, setShuffledQuestions] = useState([]);
            const [currentOptions, setCurrentOptions] = useState([]);

            useEffect(() => {
                startNewQuiz();
            }, [words]);

            const startNewQuiz = useCallback(() => {
                if (!words || words.length === 0) return;
                const shuffled = [...words].sort(() => 0.5 - Math.random());
                setShuffledQuestions(shuffled);
                setCurrentQuestion(0);
                setScore(0);
                setShowScore(false);
                setSelectedOption(null);
                setIsCorrect(null);
                
                if (shuffled.length > 0) {
                    setCurrentOptions(generateOptionsForWord(shuffled[0], words));
                }
            }, [words]);

            // è‡ªå‹•ç™¼éŸ³ Effect
            useEffect(() => {
                if (shuffledQuestions.length > 0 && currentQuestion < shuffledQuestions.length) {
                    // é¡Œç›®åˆ‡æ›æ™‚è‡ªå‹•æ’­æ”¾å–®å­—ç™¼éŸ³
                    speak(shuffledQuestions[currentQuestion].word);
                }
            }, [currentQuestion, shuffledQuestions]);

            const handleAnswerClick = (option, correctWord) => {
                if (selectedOption) return;

                setSelectedOption(option);
                const correct = option === correctWord;
                setIsCorrect(correct);

                if (correct) {
                    setScore(prev => prev + 1);
                    // ç­”å°æ™‚ä¸æ’­æ”¾ "Correct"
                } else {
                    speak("Try again.");
                }
            };

            const nextQuestion = () => {
                const nextQ = currentQuestion + 1;
                if (nextQ < shuffledQuestions.length) {
                    setSelectedOption(null);
                    setIsCorrect(null);
                    setCurrentQuestion(nextQ);
                    setCurrentOptions(generateOptionsForWord(shuffledQuestions[nextQ], words));
                } else {
                    setShowScore(true);
                }
            };

            if (shuffledQuestions.length === 0) return (
                <div className="flex justify-center items-center h-64 text-slate-500">
                    <RotateCw className="animate-spin mr-2" /> æº–å‚™é¡Œç›®ä¸­...
                </div>
            );

            const currentWord = shuffledQuestions[currentQuestion];
            
            if (currentOptions.length === 0 && currentWord) {
                setCurrentOptions(generateOptionsForWord(currentWord, words));
                return null;
            }

            return (
                <div className="max-w-2xl mx-auto animate-fade-in">
                    {showScore ? (
                        <div className="bg-white rounded-2xl shadow-xl p-8 text-center">
                            <Trophy className="w-20 h-20 text-yellow-500 mx-auto mb-4" />
                            <h2 className="text-3xl font-bold text-slate-800 mb-2">å–®å…ƒæ¸¬é©—å®Œæˆï¼</h2>
                            <p className="text-slate-600 mb-6">ä½ çš„åˆ†æ•¸æ˜¯</p>
                            <div className="text-6xl font-black text-indigo-600 mb-6">
                                {score} / {words.length}
                            </div>
                            <p className="mb-8 text-lg">
                                {score === words.length ? "Perfect! é€™å€‹å–®å…ƒä½ å·²ç¶“å®Œå…¨æŒæ¡äº†ï¼ğŸ‰" : 
                                score > words.length * 0.8 ? "å¾ˆæ£’å–”ï¼ç¹¼çºŒä¿æŒï¼ğŸ”¥" : 
                                "å†å¤šç·´ç¿’å¹¾æ¬¡å°±æœƒäº†ï¼ğŸ’ª"}
                            </p>
                            <button 
                                onClick={startNewQuiz}
                                className="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full transition-colors flex items-center gap-2 mx-auto"
                            >
                                <RotateCw size={20} />
                                é‡æ¸¬æœ¬å–®å…ƒ
                            </button>
                        </div>
                    ) : (
                        <div className="bg-white rounded-2xl shadow-xl p-6 md:p-10 relative overflow-hidden">
                            <div className="absolute top-0 left-0 w-full h-2 bg-slate-100">
                                <div 
                                    className="h-full bg-indigo-500 transition-all duration-300"
                                    style={{ width: `${((currentQuestion + 1) / shuffledQuestions.length) * 100}%` }}
                                ></div>
                            </div>

                            <div className="flex justify-between items-center mb-8 mt-2">
                                <span className="text-slate-400 font-medium">Question {currentQuestion + 1}/{shuffledQuestions.length}</span>
                                <span className="bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-sm font-bold">Score: {score}</span>
                            </div>

                            <div className="text-center mb-10">
                                <div className="text-6xl mb-4">{currentWord.emoji}</div>
                                <h2 className="text-4xl font-bold text-slate-800 mb-2">{currentWord.word}</h2>
                                <button 
                                    onClick={() => speak(currentWord.word)}
                                    className="inline-flex items-center gap-2 text-indigo-600 bg-indigo-50 hover:bg-indigo-100 px-3 py-1 rounded-full text-sm transition-colors"
                                >
                                    <Volume2 size={16} /> è½ç™¼éŸ³
                                </button>
                            </div>

                            <div className="grid grid-cols-1 gap-3">
                                {currentOptions.map((option, index) => {
                                    let buttonStyle = "border-2 border-slate-200 hover:border-indigo-300 hover:bg-indigo-50 text-slate-700";
                                    
                                    if (selectedOption) {
                                        if (option === currentWord.def) {
                                            buttonStyle = "border-2 border-green-500 bg-green-50 text-green-700";
                                        } else if (option === selectedOption && option !== currentWord.def) {
                                            buttonStyle = "border-2 border-red-500 bg-red-50 text-red-700";
                                        } else {
                                            buttonStyle = "border-2 border-slate-100 text-slate-300 opacity-50";
                                        }
                                    }

                                    return (
                                        <button
                                            key={option}
                                            onClick={() => handleAnswerClick(option, currentWord.def)}
                                            disabled={!!selectedOption}
                                            className={`p-4 rounded-xl text-lg font-medium transition-all duration-200 text-left flex justify-between items-center ${buttonStyle}`}
                                        >
                                            {option}
                                            {selectedOption && option === currentWord.def && <CheckCircle className="text-green-500" />}
                                            {selectedOption && option === selectedOption && option !== currentWord.def && <XCircle className="text-red-500" />}
                                        </button>
                                    );
                                })}
                            </div>

                            {selectedOption && (
                                <div className="mt-8 flex justify-center animate-bounce-in">
                                    <button
                                        onClick={nextQuestion}
                                        className="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-10 rounded-full shadow-lg transition-all transform hover:scale-105 flex items-center gap-2"
                                    >
                                        {currentQuestion === shuffledQuestions.length - 1 ? 'æŸ¥çœ‹çµæœ' : 'ä¸‹ä¸€é¡Œ'}
                                        <ArrowRight size={20} />
                                    </button>
                                </div>
                            )}
                        </div>
                    )}
                </div>
            );
        };

        // App Component
        const App = () => {
            const [currentTab, setCurrentTab] = useState('study');
            const [currentUnitId, setCurrentUnitId] = useState(3);
            const [flippedCards, setFlippedCards] = useState({});

            const currentUnitData = textbookData[currentUnitId];

            useEffect(() => {
                setFlippedCards({});
            }, [currentUnitId]);

            const toggleFlip = (index) => {
                setFlippedCards(prev => ({
                    ...prev,
                    [index]: !prev[index]
                }));
            };

            return (
                <div className="min-h-screen bg-slate-50 text-slate-800 font-sans selection:bg-indigo-200 flex flex-col">
                    
                    <header className="bg-indigo-600 text-white shadow-lg sticky top-0 z-50">
                        <div className="max-w-6xl mx-auto px-4 py-4">
                            <div className="flex justify-between items-center mb-4">
                                <div>
                                    <h1 className="text-2xl font-bold flex items-center gap-2">
                                        <BookOpen className="w-8 h-8" />
                                        ç¿°æ—8å¹´ç´šä¸‹è‹±æ–‡å–®å­—
                                    </h1>
                                    <p className="text-indigo-200 text-sm hidden sm:block">Current: {currentUnitData.title}</p>
                                </div>
                                
                                <div className="flex bg-indigo-800 rounded-lg p-1">
                                    <button
                                        onClick={() => setCurrentTab('study')}
                                        className={`px-4 py-2 rounded-md flex items-center gap-2 transition-all ${currentTab === 'study' ? 'bg-white text-indigo-700 shadow-sm' : 'text-indigo-200 hover:text-white'}`}
                                    >
                                        <BookOpen size={18} />
                                        <span className="font-medium hidden sm:inline ml-2">å­¸ç¿’</span>
                                    </button>
                                    <button
                                        onClick={() => setCurrentTab('quiz')}
                                        className={`px-4 py-2 rounded-md flex items-center gap-2 transition-all ${currentTab === 'quiz' ? 'bg-white text-indigo-700 shadow-sm' : 'text-indigo-200 hover:text-white'}`}
                                    >
                                        <Brain size={18} />
                                        <span className="font-medium hidden sm:inline ml-2">æ¸¬é©—</span>
                                    </button>
                                </div>
                            </div>

                            <div className="flex gap-2 overflow-x-auto pb-2 scrollbar-hide">
                                {[3, 4, 5, 6].map((unitId) => (
                                    <button
                                        key={unitId}
                                        onClick={() => setCurrentUnitId(unitId)}
                                        className={`whitespace-nowrap px-4 py-1.5 rounded-full text-sm font-medium transition-colors border ${
                                            currentUnitId === unitId 
                                                ? 'bg-white text-indigo-600 border-white' 
                                                : 'bg-indigo-700 text-indigo-100 border-indigo-600 hover:bg-indigo-500'
                                        }`}
                                    >
                                        Unit {unitId}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </header>

                    <main className="max-w-6xl mx-auto px-4 py-8 flex-grow w-full">
                        
                        {currentTab === 'study' && (
                            <div className="animate-fade-in">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-xl font-bold text-slate-700 flex items-center gap-2">
                                        <LayoutGrid size={24} className="text-indigo-500"/>
                                        {currentUnitData.title}
                                    </h2>
                                    <span className="bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-xs font-bold">
                                        {currentUnitData.words.length} Words
                                    </span>
                                </div>
                                
                                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                    {currentUnitData.words.map((item, index) => (
                                        <div 
                                            key={`${currentUnitId}-${index}`}
                                            className="group relative h-72 w-full perspective-1000 cursor-pointer"
                                            onClick={() => toggleFlip(index)}
                                        >
                                            <div className={`relative w-full h-full duration-500 preserve-3d transition-transform shadow-xl rounded-2xl ${flippedCards[index] ? 'rotate-y-180' : ''}`}>
                                                
                                                {/* æ­£é¢ */}
                                                <div className="absolute w-full h-full backface-hidden bg-white rounded-2xl p-6 flex flex-col items-center justify-center border-2 border-indigo-50 hover:border-indigo-200 transition-colors">
                                                    <div className="text-6xl mb-4 transform group-hover:scale-110 transition-transform">{item.emoji}</div>
                                                    <h3 className="text-3xl font-bold text-slate-800 mb-1">{item.word}</h3>
                                                    <div className="flex items-center gap-2 mb-4">
                                                        <span className="text-slate-500 font-mono text-sm bg-slate-100 px-2 py-1 rounded">{item.kk}</span>
                                                        <span className="text-indigo-600 font-bold text-sm bg-indigo-50 px-2 py-1 rounded">{item.pos}</span>
                                                    </div>
                                                    <button 
                                                        onClick={(e) => {
                                                            e.stopPropagation();
                                                            speak(item.word);
                                                        }}
                                                        className="mt-2 p-3 bg-indigo-100 hover:bg-indigo-200 text-indigo-700 rounded-full transition-colors flex items-center gap-2"
                                                        title="æ’­æ”¾ç™¼éŸ³"
                                                    >
                                                        <Volume2 size={20} />
                                                    </button>
                                                    <p className="absolute bottom-4 text-xs text-slate-400">é»æ“ŠæŸ¥çœ‹æ„æ€</p>
                                                </div>

                                                {/* èƒŒé¢ */}
                                                <div className="absolute w-full h-full backface-hidden bg-gradient-to-br from-indigo-600 to-indigo-800 text-white rounded-2xl p-6 rotate-y-180 flex flex-col justify-center overflow-y-auto">
                                                    <div className="text-center mb-4">
                                                        <h4 className="text-2xl font-bold mb-1">{item.def}</h4>
                                                    </div>
                                                    <div className="bg-white/10 rounded-lg p-3 backdrop-blur-sm">
                                                        <p className="text-sm font-medium mb-2 leading-relaxed opacity-90">{item.sentence}</p>
                                                        <p className="text-xs text-indigo-200 border-t border-indigo-400/30 pt-2">{item.trans}</p>
                                                    </div>
                                                    <button 
                                                        onClick={(e) => {
                                                            e.stopPropagation();
                                                            speak(item.sentence);
                                                        }}
                                                        className="mt-4 self-center p-2 bg-white/20 hover:bg-white/30 rounded-full transition-colors"
                                                        title="æœ—è®€ä¾‹å¥"
                                                    >
                                                        <Volume2 size={16} />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {currentTab === 'quiz' && (
                            <QuizMode words={currentUnitData.words} />
                        )}

                    </main>

                    <footer className="text-center py-8 text-slate-400 text-sm">
                        <p>Keep going! æ¯å¤©é€²æ­¥ä¸€é»é»ï¼Œä½ å°±æœƒè®Šå¾—å¾ˆå²å®³ï¼</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
